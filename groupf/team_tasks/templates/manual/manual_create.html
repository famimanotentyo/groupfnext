{% extends 'base.html' %}
{% block title %}マニュアル作成{% endblock %}
{% block content %}
    <div class="container-fluid px-lg-4 py-3">
        <section class="manual-create-section">
            <div class="page-header">
                <h2 class="mb-0">マニュアル作成画面</h2>
            </div>

            <form action="{% url 'manual_create_view' %}" method="post" enctype="multipart/form-data">
                {% csrf_token %}

                <div class="form-group">
                    <label for="manual_file">ファイル</label>
                    <div class="file-input-wrapper">
                        <input type="text" id="file_name_display" placeholder="ファイルが選択されていません" readonly>
                        <button type="button" id="browse_btn" class="btn btn-browse">参照</button>
                        <input type="file" id="manual_file" name="manual_file" hidden>
                    </div>
                </div>

                <div class="form-group">
                    <label for="manual_description">説明</label>
                    <textarea id="manual_description" name="manual_description" rows="8" placeholder="マニュアルの説明を入力してください..."></textarea>
                </div>

                <div class="submit-container">
                    <button type="submit" class="btn btn-submit">マニュアルを送信</button>
                </div>

            </form>
        </section>
    </div>
{% endblock %}
{% block extra_js %}
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const browseBtn = document.getElementById('browse_btn');
        const fileInput = document.getElementById('manual_file');
        const fileNameDisplay = document.getElementById('file_name_display');

        browseBtn.addEventListener('click', () => {
            fileInput.click();
        });

        fileInput.addEventListener('change', () => {
            if (fileInput.files.length > 0) {
                fileNameDisplay.value = fileInput.files[0].name;
            } else {
                fileNameDisplay.value = 'ファイルが選択されていません';
            }
        });
    });
</script>
{% endblock %}